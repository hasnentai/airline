(this.webpackJsonpclient_revamp=this.webpackJsonpclient_revamp||[]).push([[9],{144:function(e,t,a){},166:function(e,t){},167:function(e,t){},177:function(e,t){},178:function(e,t){},198:function(e,t){},200:function(e,t){},201:function(e,t){},202:function(e,t){},203:function(e,t){},210:function(e,t){},211:function(e,t){},217:function(e,t){},220:function(e,t){},425:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=c(a(0)),o=c(a(1));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=!1,m=!1,u=!1,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:a.props.stripeKey}),a.hasPendingClick&&a.showStripeDialog())},a.onScriptError=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.hideLoadingDialog(),a.props.onScriptError&&a.props.onScriptError.apply(a,t)},a.onClosed=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a._isMounted&&a.setState({open:!1}),a.props.closed&&a.props.closed.apply(a,t)},a.onOpened=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.setState({open:!0}),a.props.opened&&a.props.opened.apply(a,t)},a.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return n({},e,a.props.hasOwnProperty(t)&&s({},t,a.props[t]))}),{opened:a.onOpened,closed:a.onClosed})},a.onClick=function(){if(!a.props.disabled)if(u)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?a.showStripeDialog():(a.showLoadingDialog(),a.hasPendingClick=!0)},a.handleOnMouseDown=function(){a.setState({buttonActive:!0})},a.handleOnMouseUp=function(){a.setState({buttonActive:!1})},a.state={open:!1,buttonActive:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!m&&!i){i=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var a=!1,n=new Promise((function(a,n){t.onload=function(){m=!0,i=!1,a(),e.onScriptLoaded()},t.onerror=function(t){u=!0,i=!1,n(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){n.then((function(){return a?t({isCanceled:!0}):e()})),n.catch((function(e){return t(a?{isCanceled:!0}:e)}))})),cancel:function(){a=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){i||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return l.default.createElement("button",n({},s({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:n({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),l.default.createElement("span",{style:n({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return l.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},l.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?l.default.createElement(e,n({},s({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(l.default.Component);d.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},d.propTypes={desktopShowModal:o.default.bool,triggerEvent:o.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:o.default.string,style:o.default.object,textStyle:o.default.object,disabled:o.default.bool,ComponentClass:o.default.string,showLoadingDialog:o.default.func,hideLoadingDialog:o.default.func,onScriptError:o.default.func,onScriptTagCreated:o.default.func,reconfigureOnUpdate:o.default.bool,stripeKey:o.default.string.isRequired,token:o.default.func.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,amount:o.default.number,locale:o.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:o.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:o.default.string,zipCode:o.default.bool,billingAddress:o.default.bool,shippingAddress:o.default.bool,email:o.default.string,allowRememberMe:o.default.bool,bitcoin:o.default.bool,alipay:o.default.oneOf(["auto",!0,!1]),alipayReusable:o.default.bool,opened:o.default.func,closed:o.default.func},d._isMounted=!1,t.default=d},459:function(e,t,a){"use strict";a.r(t);var n=a(71),r=a(56),l=a(0),o=a.n(l),c=(a(144),a(69)),s=a(2),i=a(425),m=a.n(i),u=a(160),d=a(67),p=a.n(d),f=a(75),g=a(57),h=new u("Airline@$Ticket123#");t.default=Object(s.withRouter)((function(e){var t=Object(l.useState)({}),a=Object(r.a)(t,2),s=a[0],i=a[1],u=Object(l.useState)(0),d=Object(r.a)(u,2),E=d[0],b=d[1],v=Object(l.useState)({}),N=Object(r.a)(v,2),y=N[0],S=N[1],D=Object(l.useState)([]),_=Object(r.a)(D,2),k=_[0],O=_[1],C=Object(l.useState)({name:"stripe checking",price:10,productBy:"amazon"}),P=Object(r.a)(C,2),w=P[0],A=P[1];Object(l.useEffect)((function(){var e=sessionStorage.getItem("user_data"),t={};e&&(t=JSON.parse(h.decrypt(e))),i(t);var a=0,n={};return t.productSelect&&Object.keys(t.productSelect).forEach((function(e){var r=t.scratchList.filter((function(t){return t.Product_Name==e})),l="";r.forEach((function(e){l=l.length?"".concat(l,",").concat(h.decrypt(e.Scratch_Card)):h.decrypt(e.Scratch_Card)}));var o=e.charAt(0).toUpperCase()+e.slice(1),c=e.match(/\d+/)[0];n[o]=e,n["Scratch_Card".concat(c)]=l,a+=Number(t.productSelect[e].price)*t.productSelect[e].itemsSelected})),console.log(n),b(a),A({name:"stripe checking",price:a,productBy:"amazon"}),O(t.scratchList),S(n),function(){}}),[]);return o.a.createElement("div",{className:"container"},o.a.createElement(f.a,null),s.formData?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form_confirm_ec"},o.a.createElement("div",{className:"block_ec form_wizard_ec"},o.a.createElement("h1",{className:"confirm_title_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.orderConfirmationHeader))),o.a.createElement("ul",{className:"form_wizard_levels_ec"},o.a.createElement("li",null,o.a.createElement("a",null,o.a.createElement("span",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"1"))),o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.customerInfoHeader)))),o.a.createElement("li",{className:"active"},o.a.createElement("a",null,o.a.createElement("span",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"2"))),o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.orderConfirmationTab)))),o.a.createElement("li",null,o.a.createElement("a",null,o.a.createElement("span",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"3"))),o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.orderCompletionTab))))),o.a.createElement("div",{className:"confirm_subtitle_ec"},o.a.createElement("p",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.checkDetails)))),o.a.createElement("table",{className:"table_ec table_bordered_ec qa-orders",style:{marginBottom:"10px"}},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"product_name_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.productName))),o.a.createElement("th",{className:"product_price_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.unitPrice))),o.a.createElement("th",{className:"product_quantity_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.number))),o.a.createElement("th",{className:"product_sub_total_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.subtotal)))),Object.keys(s.productSelect).map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",{className:"qa-name"},o.a.createElement("p",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},s.productSelect[e].Product_Name)))),o.a.createElement("td",{className:"pull_right_ec qa-price"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"\xa5 ",s.productSelect[e].price))),o.a.createElement("td",{className:"pull_right_ec qa-quantity"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},s.productSelect[e].itemsSelected))),o.a.createElement("td",{className:"pull_right_ec qa-subtotal_price"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"\xa5 ",Number(s.productSelect[e].price)*s.productSelect[e].itemsSelected))))})),o.a.createElement("tr",null,o.a.createElement("td",{className:"pull_right_ec blank_field_ec",colSpan:"3"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.total))),o.a.createElement("td",{className:"pull_right_ec total_color_ec qa-total"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"\xa5 ",E)))))),o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("div",{className:"product_caution_ec qa-caution",colSpan:"4"},o.a.createElement("p",null,o.a.createElement("strong",null,o.a.createElement("font",{color:"red"},o.a.createElement("font",{size:"3"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"<",g.a.plsCheck," "),o.a.createElement("font",{className:"vert-align"},g.a.orderedProduct),o.a.createElement("font",{className:"vert-align"},">")))))),o.a.createElement("p",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.reservedProduct," "),o.a.createElement("font",{className:"vert-align"},g.a.afterOrdering))))),o.a.createElement("div",{className:"confirm_subtitle_ec"},o.a.createElement("p",null,o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.customerInformationCheck)))),o.a.createElement("table",{className:"table_ec table_bordered_ec qa-billings"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.nameOfTheCustomer))),o.a.createElement("td",{className:"qa-name"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"".concat(s.formData.fname," ").concat(s.formData.lname))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.phonetic))),o.a.createElement("td",{className:"qa-kana"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},s.formData.phonetic)))),o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.a.stsAddress))),o.a.createElement("td",{className:"qa-address"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"".concat(s.formData.address3,", ").concat(s.formData.address2,", ").concat(s.formData.address1))))),o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.phoneNumber))),o.a.createElement("td",{className:"qa-tel"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},s.formData.phone)))),o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.emailAddress))),o.a.createElement("td",{className:"qa-email"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},s.formData.email)))),o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.sex))),o.a.createElement("td",{className:"qa-sex"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},s.formData.sex)))),o.a.createElement("tr",null,o.a.createElement("th",{className:"menu_ec"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},g.c.birthday))),o.a.createElement("td",{className:"qa-birth"},o.a.createElement("font",{className:"vert-align"},o.a.createElement("font",{className:"vert-align"},"".concat(s.formData.bdDay,"/").concat(s.formData.bdMonth,"/").concat(s.formData.bdYear))))))),o.a.createElement("div",{className:"btn-container",style:{textAlign:"center"}},o.a.createElement(m.a,{currency:"JPY",stripeKey:"pk_test_51GtsUQDFruPsLR1hx8Ev2jNJRWHmJg6fsVa1XyaLv3aflfogeWfMu5xy8rKNkF6xTDHFCPVyrWeA9RAzy9PUW22t002dvwJrE2",token:function(t){var a={token:t,product:w},r={"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))};return fetch("https://gbek5gmml7.execute-api.us-east-1.amazonaws.com/dev/stripe",{method:"POST",headers:r,body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){console.log(t),p.a.post("https://gbek5gmml7.execute-api.us-east-1.amazonaws.com/dev/success",Object(n.a)(Object(n.a)({},y),{},{Tomail:s.formData.email}),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))}}).then((function(t){f.b.success("Payment done Successfully",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),sessionStorage.clear(),e.history.push("/paymentsuccess")})).catch((function(e){f.b.error("Payment failed",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))})).catch((function(e){console.log(e),p.a.post("https://gbek5gmml7.execute-api.us-east-1.amazonaws.com/dev/failed",k,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))}}).then((function(e){})),f.b.error("Payment failed",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},name:g.a.buyTicket,amount:w.price})))),o.a.createElement(c.a,null)):"")}))}}]);
//# sourceMappingURL=9.468b6fbd.chunk.js.map